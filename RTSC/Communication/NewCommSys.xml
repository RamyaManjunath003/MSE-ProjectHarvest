<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
const int N = 4; //No. of Bale vehicles
typedef int[0,N-1] id_t;

chan DisconnectSuccess[N];
chan ConnectionReq[N];
chan DisconnectReq[N];
chan ConnectionSuccess[N];
chan RetryReq[N];
chan Approved[N];
chan Networkfailure[N];</declaration><template><name x="5" y="5">VehClient</name><parameter>const id_t id</parameter><declaration>// Place local declarations here.
clock x;</declaration><location id="id0" x="-592" y="8"><name x="-608" y="24">Retry</name></location><location id="id1" x="-328" y="8"><name x="-344" y="24">Failure</name></location><location id="id2" x="-328" y="-104"><name x="-408" y="-104">Connected</name></location><location id="id3" x="-216" y="-208"><name x="-208" y="-232">Disconnect</name><label kind="invariant" x="-200" y="-216">x&lt;=20</label></location><location id="id4" x="-440" y="-208"><name x="-528" y="-224">Connecting</name><label kind="invariant" x="-504" y="-208">x&lt;=10</label></location><location id="id5" x="-328" y="-312"><name x="-338" y="-342">Init</name></location><init ref="id5"/><transition><source ref="id0"/><target ref="id5"/><label kind="synchronisation" x="-544" y="-336">Approved[id]?</label><nail x="-592" y="-312"/></transition><transition><source ref="id1"/><target ref="id0"/><label kind="synchronisation" x="-512" y="8">RetryReq[id]!</label></transition><transition><source ref="id2"/><target ref="id1"/><label kind="synchronisation" x="-388" y="-63">Networkfailure[id]?</label></transition><transition><source ref="id3"/><target ref="id5"/><label kind="synchronisation" x="-296" y="-296">DisconnectSuccess[id]?</label><label kind="assignment" x="-272" y="-280">x=0</label></transition><transition><source ref="id2"/><target ref="id3"/><label kind="synchronisation" x="-264" y="-160">DisconnectReq[id]!</label><label kind="assignment" x="-280" y="-144">x=0</label></transition><transition><source ref="id4"/><target ref="id2"/><label kind="synchronisation" x="-552" y="-176">ConnectionSuccess[id]?</label><label kind="assignment" x="-416" y="-160">x=0</label></transition><transition><source ref="id5"/><target ref="id4"/><label kind="synchronisation" x="-480" y="-288">ConnectionReq[id]!</label><label kind="assignment" x="-416" y="-272">x=0</label></transition></template><template><name>Server</name><location id="id6" x="-16832" y="64"><name x="-16840" y="80">Busy</name></location><location id="id7" x="-16584" y="-216"><name x="-16594" y="-246">ServerUp</name></location><location id="id8" x="-16584" y="-112"><name x="-16592" y="-104">ServerDown</name></location><location id="id9" x="-16832" y="-112"><name x="-16880" y="-136">Ready</name></location><init ref="id9"/><transition><source ref="id6"/><target ref="id9"/><label kind="select" x="-16736" y="24">e:id_t</label><label kind="synchronisation" x="-16776" y="40">ConnectionSuccess[e]!</label><nail x="-16632" y="-16"/></transition><transition><source ref="id9"/><target ref="id6"/><label kind="select" x="-16968" y="24">e:id_t</label><label kind="synchronisation" x="-17008" y="40">ConnectionReq[e]?</label><nail x="-17016" y="-16"/></transition><transition><source ref="id6"/><target ref="id9"/><label kind="select" x="-16768" y="-48">e:id_t</label><label kind="synchronisation" x="-16808" y="-32">DisconnectSuccess[e]!</label><nail x="-16704" y="-24"/></transition><transition><source ref="id9"/><target ref="id6"/><label kind="select" x="-16928" y="-48">e:id_t</label><label kind="synchronisation" x="-16952" y="-32">DisconnectReq[e]?</label><nail x="-16960" y="-24"/></transition><transition><source ref="id8"/><target ref="id7"/><label kind="select" x="-16576" y="-192">e:id_t</label><label kind="synchronisation" x="-16576" y="-176">RetryReq[e]?</label></transition><transition><source ref="id9"/><target ref="id8"/><label kind="select" x="-16728" y="-112">e:id_t</label><label kind="synchronisation" x="-16728" y="-96">Networkfailure[e]!</label></transition><transition><source ref="id7"/><target ref="id9"/><label kind="select" x="-16760" y="-256">e:id_t</label><label kind="synchronisation" x="-16760" y="-240">Approved[e]!</label><nail x="-16832" y="-216"/></transition></template><system>// Place template instantiations here.
// List one or more processes to be composed into a system.
system VehClient,  Server;
    </system></nta>